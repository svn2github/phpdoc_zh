<HTML
><HEAD
><TITLE
>基于 Windows 平台的工具</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.76b+
"><LINK
Rel="stylesheet" 
Type="text/css" 
href="howto.css"
><LINK
REL="HOME"
TITLE="PHP 文档工作指引"
HREF="index.html"><LINK
REL="UP"
TITLE="工具及安装须知"
HREF="chapter-tools.html"><LINK
REL="PREVIOUS"
TITLE="工具及安装须知"
HREF="chapter-tools.html"><LINK
REL="NEXT"
TITLE="XML 样式表单相关工具"
HREF="tools-for-xsl.html"><META
HTTP-EQUIV="Content-type"
CONTENT="text/html; charset=gb2312"></HEAD
><BODY
CLASS="sect1"
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#0000FF"
VLINK="#840084"
ALINK="#0000FF"
><DIV
CLASS="NAVHEADER"
><TABLE
SUMMARY="Header navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="3"
ALIGN="center"
>PHP 文档工作指引</TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="bottom"
><A
HREF="chapter-tools.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="80%"
ALIGN="center"
VALIGN="bottom"
>第 2 章. 工具及安装须知</TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="bottom"
><A
HREF="tools-for-xsl.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><DIV
CLASS="sect1"
><H1
CLASS="sect1"
><A
NAME="tools-on-windows">2.2. 基于 Windows 平台的工具</H1
><P
>&#13;    尽管 phpdoc 的环境是基于许多 Unix 工具和技术的，在 Windows 下也有很多方法来完成这些工作。在 Windows 环境下建立起 CVS 和 DocBook 的运行环境并不会太困难。不过，您将主要依靠键盘来完成大部分的工作，而非在 Windows 下使用较多的鼠标。
   </P
><DIV
CLASS="sect2"
><H2
CLASS="sect2"
><A
NAME="tools-on-windows-obtaining">2.2.1. 工具的获取</H2
><P
>&#13;     您需要和 Linux 系统下相同的工具，其中最基本的是 CVS 客户端。您可以在 <A
HREF="http://ftp.cvshome.org/win32/"
TARGET="_top"
>CVSHome.org</A
> 网站的 Win32 下载区找到一个简单的 CVS 命令行工具。我们不推荐使用诸如 WinCVS 的图形化界面的工具，因为它们常常把文件错误的放置于资源库内（例如放置文件名中包含有有大写字母的文件等）。最好的选择是使用命令行工具，这样您可以自己控制整个操作过程。
    </P
><P
>&#13;     关于 XML 编辑器，我们推荐您不要使用 WYSIWYG XML 编辑器，例如 XML Spy，因为它们友好的自动缩进以及一些优化功能会使您编辑的 XML 文档面目全非，而系统由此自动产生并发布到<A
HREF="chapter-maillist.html"
>邮件列表</A
>的内容将变得毫无意义。如果您愿意试试的话，Emacs 也可以在 Windows 下使用。
    </P
><P
>&#13;     如果您希望自己生成一些可阅读版本的文档，或者希望能够在提交文件前做一番校验（我们也建议您这么做），您将需要更多的工具。在 Windows 下开展这些工作，您需要如下的工具：

     <P
></P
><UL
><LI
><P
>&#13;        <A
HREF="http://www.cygwin.com/"
TARGET="_top"
>Cygwin (Windows 下的 Linux 工具，文件比较大)</A
>
       </P
></LI
><LI
><P
>&#13;        <A
HREF="http://www.jclark.com/jade/"
TARGET="_top"
>Jade (语法分析器，请下载 Windows 版本)</A
> 或者 <A
HREF="http://openjade.sourceforge.net/"
TARGET="_top"
>OpenJade</A
>
       </P
></LI
><LI
><P
>&#13;        <A
HREF="http://nwalsh.com/docbook/dsssl/"
TARGET="_top"
>Norman Walsh 的标准 DocBook 样式表单</A
>
       </P
></LI
></UL
>
     注意如果您使用 Cygwin，则无需另外下载 CVS 的客户端，因为 Cygwin 自带有内建的 CVS 客户端。
    </P
></DIV
><DIV
CLASS="sect2"
><H2
CLASS="sect2"
><A
NAME="tools-on-windows-installing">2.2.2. 工具的安装</H2
><P
>&#13;     您需要下载并安装 Cygwin 工具。请访问其网站，点击“Install Now!”的标志，然后运行下载的 <TT
CLASS="filename"
>setup.exe</TT
> 即可。它将指导您的整个安装过程。这些工具是可在 Windows 下运行的 Unix 工具，诸如 sed、awk、autoconf、make、perl 等的标准接口。
    </P
><DIV
CLASS="note"
><BLOCKQUOTE
CLASS="note"
><P
><B
>注意： </B
>
      您需要注意的是 cygwin 现在已经发展成为了一个非常庞大的工程，它包含了很多被移植到 Windows 下的程序（例如 postgres 和 apache），尽管 phpdoc 工程并不需要这些程序。由于 cygwin 中一些基本的工具是相互关联，相互依赖的，因此我们无法给您一个 phpdoc 工程必需的 Cygwin 组件清单。如果您找出了可满足 phpdoc 工程需求的 cygwin 最小化安装方案，请务必和我们联系，并将您的解决方案发送给我们。
     </P
></BLOCKQUOTE
></DIV
><P
>&#13;     从程序菜单中运行“Cygwin Bash Shell”命令（该菜单可以在上一步操作中添加），会出现一个和 Unix 下的 bash 环境类似的命令行。如果您从未使用过 bash 或者 Unix，则您需要注意在路径中使用的是斜杠(/)而非反斜杠(\)。例如，如果您希望访问  <TT
CLASS="literal"
>c:</TT
> 盘下的 <TT
CLASS="literal"
>foo</TT
> 目录，则路径应该写成 <TT
CLASS="literal"
>c:/foo</TT
>，而非 <TT
CLASS="literal"
>c:\foo</TT
>。
    </P
><DIV
CLASS="警 告"
><P
></P
><TABLE
CLASS="警 告"
BORDER="1"
WIDTH="100%"
><TR
><TD
ALIGN="CENTER"
><B
>警 告</B
></TD
></TR
><TR
><TD
ALIGN="LEFT"
><P
>&#13;       请不要在 Cygwin 下使用 symlink，这是该系统的一个错误。（Jade 不支持它们，而且该外壳本身也不能很好的处理它们。）
     </P
></TD
></TR
></TABLE
></DIV
><P
>&#13;     您可以使用和 Windows 系统类似的 <B
CLASS="command"
>cd</B
> 命令将当前目录切换到您的 phpdoc 目录，同时，Cygwin 也支持 <B
CLASS="command"
>dir</B
> 命令。
    </P
><P
>&#13;     如果您还没有完整的 phpdoc 文件，请运行 CVS （已经内置到了 Cygwin 中）。请查阅本文档“<A
HREF="chapter-cvs.html"
>利用 CVS 开展工作</A
>”一节以获取更多关于 CVS 的信息。
    </P
><DIV
CLASS="note"
><BLOCKQUOTE
CLASS="note"
><P
><B
>注意： </B
>
      如果您希望在以下步骤中使用其它的目录，则您可能需要手动修改 <TT
CLASS="filename"
>phpdoc/configure.in</TT
> 文件。如果您一定要这么做，我们无法提供更多的技术支持。在这种情况下，您在执行 configure 脚本的时候，需要通过 <TT
CLASS="literal"
>--with-dsssl=C:/path/to/dsssl</TT
> 参数指明 DSSSL 的路径。
     </P
></BLOCKQUOTE
></DIV
><P
>&#13;     请确认您的当前目录是 <TT
CLASS="literal"
>phpdoc</TT
> 放置的目录。（即如果您运行 <B
CLASS="command"
>ls</B
> 命令，将看到 <TT
CLASS="literal"
>phpdoc</TT
> 被显示出来。）
    </P
><P
>&#13;     输入 <B
CLASS="command"
>mkdir phpdoc-tools</B
> 命令，然后：
    </P
><P
>&#13;     <P
></P
><UL
><LI
><P
>将 Jade 解压缩到 <TT
CLASS="literal"
>phpdoc-tools/jade</TT
> 目录；</P
></LI
><LI
><P
>将 Norman Walsh 的 DSSSL 文件解压缩到 <TT
CLASS="literal"
>phpdoc-tools/dsssl/docbook</TT
> 目录；</P
></LI
></UL
>
    </P
><P
>&#13;     对于生成手册的 HTML 版本来说，XSL 样式表单<SPAN
CLASS="emphasis"
><I
CLASS="emphasis"
>并非必须</I
></SPAN
>的，因为系统将默认使用 DSSSL 样式表单。如果您希望尝试用 XSL 来代替 DSSSL，则请 Norman Walsh 的 XSL 文件解压缩到 <TT
CLASS="literal"
>phpdoc-tools/xsl/docbook</TT
> 下。请访问 <A
HREF="http://nwalsh.com/docbook/xsl/"
TARGET="_top"
>http://nwalsh.com/docbook/xsl/</A
> 以获取更多信息以及可下载的文件。
    </P
><P
>&#13;     除此以外，您还需要一份可以工作的 4.x 版本的 PHP 来生成手册。在 Windows 系统下，您需要在 <TT
CLASS="filename"
>phpdoc-tools</TT
> 目录下放置一个 <TT
CLASS="filename"
>php.bat</TT
> 文件，并在该文件中写入一行 PHP 的调用命令。您可以使用 <TT
CLASS="filename"
>php.ini</TT
> 的建议配置作为 PHP 脚本的默认设置，尽管这些设置与 phpdoc PHP 脚本的要求有所不同。您可以在 <TT
CLASS="filename"
>phpdoc/scripts</TT
> 找到我们推荐的 <TT
CLASS="filename"
>php.ini</TT
> 配置文件。以下这行内容是调用 PHP 命令的一个范例，它通常都能正常的工作（您需要将路径改为您 PHP 的安装路径）：
     <DIV
CLASS="informal范例"
><A
NAME="AEN221"><P
></P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
CELLPADDING="5"
><TR
><TD
><PRE
CLASS="programlisting"
>@"C:\Program Files\PHP\php.exe" %1 %2 %3 %4 %5 %6 %7 %8 %9</PRE
></TD
></TR
></TABLE
><P
></P
></DIV
>
    </P
><P
>&#13;     请检查您当前的目录结构是否如下所示：
     <DIV
CLASS="informal范例"
><A
NAME="AEN224"><P
></P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
CELLPADDING="5"
><TR
><TD
><PRE
CLASS="programlisting"
>+--phpdoc
|  |
|  +--CVS
|  |
|  +--en
|  |
|  \--...
|
\--phpdoc-tools
   |
   +--dsssl
   |  |
   |  \--docbook (包含有 docbook.dcl 等文件……)
   |
   +--jade (包含有 jade.exe 等文件……)
   |
   +--xsl (可选！)
   |  |
   |  \--docbook (等等)
   |
   \--php.bat</PRE
></TD
></TR
></TABLE
><P
></P
></DIV
>
    </P
><P
>&#13;     现在请切换到 <TT
CLASS="literal"
>phpdoc</TT
> 目录，然后运行：
     <DIV
CLASS="informal范例"
><A
NAME="AEN228"><P
></P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
CELLPADDING="5"
><TR
><TD
><PRE
CLASS="programlisting"
>autoconf
./configure --with-lang=your_language_code</PRE
></TD
></TR
></TABLE
><P
></P
></DIV
>
    </P
><P
>&#13;     请用您当前工作的语言代码（简体中文为“zh”）代替以上参数中的 <TT
CLASS="literal"
>your_language_code</TT
>。<TT
CLASS="literal"
>--with-lang</TT
> 参数是可选的。如果您没有指定，该参数的默认值是 <TT
CLASS="literal"
>en</TT
>，即英文。
    </P
><P
>&#13;     如果没有发生任何错误，您就可以开始您的工作了。否则，您可以查看“DocBook：The Definitive Guide（DocBook 明确向导）”一书中的“<A
HREF="http://www.oasis-open.org/docbook/documentation/reference/html/appa.html"
TARGET="_top"
>安装附录</A
>”中的有关内容。如果您认为问题是出在生成系统中，请发邮件到<A
HREF="chapter-maillist.html"
>邮件列表</A
>询问。
    </P
></DIV
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
SUMMARY="Footer navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="chapter-tools.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="index.html"
ACCESSKEY="H"
>Home</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="tools-for-xsl.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>工具及安装须知</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="chapter-tools.html"
ACCESSKEY="U"
>Up</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>XML 样式表单相关工具</TD
></TR
></TABLE
></DIV
></BODY
></HTML
>