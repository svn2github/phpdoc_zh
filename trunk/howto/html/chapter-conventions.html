<HTML
><HEAD
><TITLE
>一些约定</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.7"><LINK
Rel="stylesheet" 
Type="text/css" 
href="howto.css"
><LINK
REL="HOME"
TITLE="PHP 文档工作指引"
HREF="index.html"><LINK
REL="UP"
TITLE="如何开展 PHP 文档的工作"
HREF="part-working-in-phpdoc.html"><LINK
REL="PREVIOUS"
TITLE="文档总则"
HREF="chapter-files.html"><LINK
REL="NEXT"
TITLE="哪些内容需要加入文档？"
HREF="chapter-what-to-document.html"><META
HTTP-EQUIV="Content-type"
CONTENT="text/html; charset=gb2312"></HEAD
><BODY
CLASS="chapter"
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#0000FF"
VLINK="#840084"
ALINK="#0000FF"
><DIV
CLASS="NAVHEADER"
><TABLE
SUMMARY="Header navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="3"
ALIGN="center"
>PHP 文档工作指引</TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="bottom"
><A
HREF="chapter-files.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="80%"
ALIGN="center"
VALIGN="bottom"
></TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="bottom"
><A
HREF="chapter-what-to-document.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><DIV
CLASS="chapter"
><H1
><A
NAME="chapter-conventions"
>第 6 章. 一些约定</A
></H1
><P
>&#13;   当您在编辑 phpdoc 的 XML 文档时，应该遵守以下的约定，以减轻和协调整个团队在资源库下的工作。
  </P
><P
>&#13;   <P
></P
><OL
TYPE="1"
><LI
><P
>&#13;     请在所有主要的 section 标记（包括手册的各个部分、章节和段落等）加上 ID 属性。HTML 样式表单将会在这些 ID 后对 HTML 文件进行命名。
    </P
></LI
><LI
><P
>&#13;     函数参考的 ID 必须以 <TT
CLASS="literal"
>function.mysql-connect</TT
> 指明，即函数的格式必须符合其命名规则，例如全部字母小写等。注意由于下划线(_)不能用在 ID 属性中，因此请用横杠(-)来代替它们。
    </P
></LI
><LI
><P
>&#13;     函数参考部分的 ID（即<TT
CLASS="literal"
>&#60;reference id="..."&#62;</TT
>）请使用如下格式：'ref.category'，例如：'ref.ftp'。
    </P
></LI
><LI
><P
>&#13;     在用 programlisting 标签添加 PHP 范例代码时，请加上名为 role 的属性，并将其值设为"PHP"。请不要在任何其它的 PHP 范例代码或者输出中使用 role 属性，它是 PHP 源代码的保留字。该 role 属性用来检测 PHP 的代码和高亮设置。
    </P
></LI
><LI
><P
>&#13;     在 XML 代码中，programlisting 标签中范例的内容请从第 0 列开始写，即顶格写。
     
    </P
></LI
><LI
><P
>&#13;     在所有的范例中，请使用 <TT
CLASS="literal"
>&#60;?php ... ?&#62;</TT
> 替代 <TT
CLASS="literal"
>&#60;? ... ?&#62;</TT
>，并请使用 <TT
CLASS="literal"
>&#60;![CDATA[ ... ]]&#62;</TT
> 来包含范例，因为在该标记中，无需进行代码转换，即将范例中的 <TT
CLASS="literal"
>&#60;</TT
> 转换为 <TT
CLASS="literal"
>&#38;lt;</TT
> 等。同时，这样的范例的可读性更强，并更容易管理。
    </P
></LI
><LI
><P
>&#13;     范例中请勿使用不规范的别名和语法。
    </P
></LI
><LI
><P
>&#13;     如果某个范例涉及到新版本的 PHP，加上如下标记将更有利于读者阅读：
     <TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
CELLPADDING="5"
><TR
><TD
><PRE
CLASS="php"
>foo("bar", "baz"); // 第二个参数为 PHP 4.0.3 版本的新增参数</PRE
></TD
></TR
></TABLE
>
     新参数在 XML 正文中用以下方式表明：
     <TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
CELLPADDING="5"
><TR
><TD
><PRE
CLASS="programlisting"
>&#60;note&#62;
 &#60;simpara&#62;
  第二个参数为 PHP 4.0.3 版本的新增参数
 &#60;/simpara&#62;
&#60;/note&#62;</PRE
></TD
></TR
></TABLE
>
    </P
></LI
><LI
><P
>&#13;     PHP 语法常量中的 true、false 和 null 应写成 <TT
CLASS="literal"
>&#38;true;</TT
>、<TT
CLASS="literal"
>&#38;false;</TT
> 和 <TT
CLASS="literal"
>&#38;null;</TT
>。另外还有一些其它的定义，如 <TT
CLASS="literal"
>&#38;php.ini;</TT
> 等，它们被保存在 <TT
CLASS="filename"
>global.ent</TT
> 文件中。
    </P
></LI
><LI
><P
>&#13;     英文版本的 XML 文件中在 <TT
CLASS="literal"
>&#60;?xml</TT
> 标记符的第二行应该有形如 <TT
CLASS="literal"
>&#60;!-- $Revision --&#62;</TT
> 的注释。该注释对于非英文版本的文件不是必需的。
    </P
></LI
><LI
><P
>&#13;     请尽量避免修改英文版文件中的空格。由于翻译的需要，保存所有实际修改的修改记录是非常重要的。如果您<SPAN
CLASS="emphasis"
><I
CLASS="emphasis"
>真的</I
></SPAN
>需要修改空格，请在单独的提交命令中进行，并明确地加上类似“WS fix”或者“Whitespace fix”的注释。
    </P
></LI
><LI
><P
>&#13;     请不要使用制表符(TAB)，即时是在范例的程序代码中。XML 在每一个级别的缩进中使用一个空格，而程序代码范例的缩进应使用四个空格。
    </P
></LI
><LI
><P
>&#13;     请在文件中仅使用 LF (Line Feed) 作为换行符，这是 Unix 标准。请不要使用 CR LF（Windows 标准）或者 CR（Mac标准），即时是在编辑 Windows 特定的文件时。这将减轻编辑所需的工作。
    </P
></LI
><LI
><P
>&#13;      在文档中，变量类型应表示为：<TT
CLASS="literal"
>boolean</TT
> (原型为 <TT
CLASS="literal"
>bool</TT
>)、<TT
CLASS="literal"
>integer</TT
>(原型为 <TT
CLASS="literal"
>int</TT
>)、<TT
CLASS="literal"
>float</TT
> (<SPAN
CLASS="emphasis"
><I
CLASS="emphasis"
>而非 double！</I
></SPAN
>)、<TT
CLASS="literal"
>array</TT
>、<TT
CLASS="literal"
>object</TT
> (<SPAN
CLASS="emphasis"
><I
CLASS="emphasis"
>而非 class！</I
></SPAN
>)、<TT
CLASS="literal"
>resource</TT
> 和 <TT
CLASS="literal"
>null</TT
>（全部小写）。
     </P
><P
>&#13;      在类型原型中，您也可以使用 <TT
CLASS="literal"
>mixed</TT
> （多变量类型），或者 <TT
CLASS="literal"
>number</TT
> （integer 或者 float），或者 <TT
CLASS="literal"
>scalar</TT
>（boolean、integer、float 或者 string）。返回类型用 <TT
CLASS="literal"
>mixed</TT
> 类型<A
NAME="AEN615"
HREF="#FTN.AEN615"
><SPAN
CLASS="footnote"
>[1]</SPAN
></A
>， 因为它既可以是 array，也可以是 string。
     </P
><P
>&#13;      如果函数的返回值是某一个确定的类型（非 boolean），且该用 FALSE 来表示函数出错时，请不要使用 <TT
CLASS="literal"
>mixed</TT
> 类型。当函数用 FALSE 来表示函数出错时，请用最原始的返回类型作为该函数的返回类型，并请在注释中说明。如果函数成功返回 TRUE，失败返回 FALSE，请使用 <TT
CLASS="literal"
>&#38;return.success;</TT
>。
     </P
><P
>&#13;      如果函数不需要任何参数，请用 <TT
CLASS="literal"
>&#60;void/&#62;</TT
> 来替代 <TT
CLASS="literal"
>&#60;parameter&#62;void&#60;/parameter&#62;</TT
>，因为前者才是正确的 DocBook XML 标记符。
     </P
><P
>&#13;      如果函数未定义返回值，请使用 <TT
CLASS="literal"
>void</TT
>。
     </P
></LI
><LI
><P
>&#13;     在原型中，如果存在多种可能性（请确认它们的确是不相同的），您可以把两种都写上。作为范例，请查阅 <TT
CLASS="literal"
>en/reference/math/functions/min.xml</TT
>。
    </P
></LI
><LI
><P
>&#13;     别名问题：如果是为了提供参考，请写明：<TT
CLASS="literal"
>“&#60;function&#62;函数名&#60;/function&#62;的同名函数”</TT
>。<SPAN
CLASS="emphasis"
><I
CLASS="emphasis"
>请不要将函数的别名加入列表，而只需简单的写明：</I
></SPAN
><TT
CLASS="literal"
>“该函数是&#60;function&#62;原函数名&#60;/function&#62;的一个同名函数”</TT
>即可。这样，读者就能直接访问实体函数 <TT
CLASS="literal"
>ref.foo</TT
>。
    </P
></LI
></OL
>
  </P
></DIV
><H3
CLASS="FOOTNOTES"
>注释</H3
><TABLE
BORDER="0"
CLASS="FOOTNOTES"
WIDTH="100%"
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
WIDTH="5%"
><A
NAME="FTN.AEN615"
HREF="chapter-conventions.html#AEN615"
><SPAN
CLASS="footnote"
>[1]</SPAN
></A
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
WIDTH="95%"
><P
>或者您有更好的建议？我并不喜欢这样的方式，不仅仅是<TT
CLASS="literal"
>函数</TT
>！或者有其它类似的方法？――Jeroen</P
></TD
></TR
></TABLE
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
SUMMARY="Footer navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="chapter-files.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="index.html"
ACCESSKEY="H"
>Home</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="chapter-what-to-document.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>文档总则</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="part-working-in-phpdoc.html"
ACCESSKEY="U"
>Up</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>哪些内容需要加入文档？</TD
></TR
></TABLE
></DIV
></BODY
></HTML
>