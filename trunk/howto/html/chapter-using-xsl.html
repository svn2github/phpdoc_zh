<HTML
><HEAD
><TITLE
>使用 XSL 样式表单</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.7"><LINK
Rel="stylesheet" 
Type="text/css" 
href="howto.css"
><LINK
REL="HOME"
TITLE="PHP 文档工作指引"
HREF="index.html"><LINK
REL="UP"
TITLE="文档的生成与生效"
HREF="part-generating-output.html"><LINK
REL="PREVIOUS"
TITLE="查看您的更新"
HREF="chapter-viewing.html"><LINK
REL="NEXT"
TITLE="在线生成系统"
HREF="chapter-online-generation.html"><META
HTTP-EQUIV="Content-type"
CONTENT="text/html; charset=gb2312"></HEAD
><BODY
CLASS="chapter"
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#0000FF"
VLINK="#840084"
ALINK="#0000FF"
><DIV
CLASS="NAVHEADER"
><TABLE
SUMMARY="Header navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="3"
ALIGN="center"
>PHP 文档工作指引</TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="bottom"
><A
HREF="chapter-viewing.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="80%"
ALIGN="center"
VALIGN="bottom"
></TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="bottom"
><A
HREF="chapter-online-generation.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><DIV
CLASS="chapter"
><H1
><A
NAME="chapter-using-xsl"
>第 15 章. 使用 XSL 样式表单</A
></H1
><P
>&#13;   目前系统对利用 XML 样式表单来生成 XML 文件的输出格式的支持，不如利用 DSSSL 样式表单的支持。这是因为 XSL 样式表单不像 DSSSL 的那样可以灵活定制，而且 XSL 的工具尚未标准化，因此没有被广泛的使用。
  </P
><P
>&#13;   目前，在 <TT
CLASS="filename"
>Makefile</TT
> 文件中对 XSL 尚无明确的指示。这是因为目前还没有标准化的方法来调用 XSLT 处理器。如果需要使用 XSL 样式表单，您必须运行  <TT
CLASS="filename"
>configure</TT
> 脚本并提供您 XSL DocBook 样式表单存放的位置。大部分的 XSLT 处理器都使用 URL 而非文件名，所以请务必在路径前加上 <TT
CLASS="literal"
>file:///</TT
> 标记：
   <DIV
CLASS="informal范例"
><A
NAME="AEN1000"
></A
><P
></P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
CELLPADDING="5"
><TR
><TD
><PRE
CLASS="programlisting"
>$ autoconf
$ ./configure --with-xsl=file:///path/to/docbook/xsl/styles</PRE
></TD
></TR
></TABLE
><P
></P
></DIV
>
  </P
><DIV
CLASS="note"
><BLOCKQUOTE
CLASS="note"
><P
><B
>注意： </B
>
    以上 <TT
CLASS="literal"
>--with-xsl=file:///path/to/docbook/xsl/styles</TT
> 的形式将不能用在 Cygwin 下，因为它将检查已经存在的样式表，但 cygwin 无法识别以这种方式表达的文件路径。因此，在我们还没有找到真正完全正确的解决方法前，请在 cygwin 下用 <TT
CLASS="literal"
>--with-mxsl=file:///path/to/docbook/xsl/styles</TT
> 来替代以上的写法。同时也请注意，被自动配置脚本 configure 加入到 <TT
CLASS="filename"
>entities/file-entities.ent</TT
> 文件中的路径也会和 XSLT 工具产生问题，因此，在运行 XSLT 处理器之前您需要将它们转换成 <TT
CLASS="filename"
>file:///absolute/path/filename.xml</TT
> 的形式。当完成这些工作后，您的 XSLT 工具将能够在 cygwin 下正确地生成手册。
   </P
></BLOCKQUOTE
></DIV
><P
>&#13;   Configure 脚本将从其它文件中生成四个文件：<TT
CLASS="filename"
>html.xsl</TT
>，<TT
CLASS="filename"
>bightml.xsl</TT
>，<TT
CLASS="filename"
>htmlhelp.xsl</TT
>，<TT
CLASS="filename"
>print.xsl</TT
>。这些文件可以被用来生成需要的输出格式。<TT
CLASS="filename"
>html.xsl</TT
> 将生成一系列小的 HTML 文档，<TT
CLASS="filename"
>bightml.xsl</TT
> 将生成单个大型的 HTML 文档，<TT
CLASS="filename"
>htmlhelp.xsl</TT
> 文件将生成能够被 HTML Help Workshop 处理的源文件，而 <TT
CLASS="filename"
>print.xsl</TT
> 将生成具有 FO 对象的文档，以便可以被某些 FO 处理器进行进一步的处理。
  </P
><DIV
CLASS="note"
><BLOCKQUOTE
CLASS="note"
><P
><B
>注意： </B
>
    <TT
CLASS="filename"
>htmlhelp.xsl</TT
> 目前单独并没有太大的用处，它仅仅用在新的 CHM 生成系统下，而该系统目前还无法在 CVS 下使用。
   </P
></BLOCKQUOTE
></DIV
><P
>&#13;   XSLT 处理器的调用因处理器不同而不同。我们现在假设您已经有称为 <TT
CLASS="filename"
>saxon</TT
> 的外壳脚本，它能够调用 Saxon 处理器，请看以下的范例：
   <DIV
CLASS="informal范例"
><A
NAME="AEN1022"
></A
><P
></P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
CELLPADDING="5"
><TR
><TD
><PRE
CLASS="programlisting"
>$ mkdir html
$ saxon manual.xml html.xsl
$ saxon manual.xml htmlhelp.xsl
$ saxon -o bigmanual.html manual.xml bightml.xsl
$ saxon -o manual.fo manual.xml print.xsl</PRE
></TD
></TR
></TABLE
><P
></P
></DIV
>
  </P
><P
>&#13;   根据以上所描述的，您可以使用对应的命令来输出需要的格式。要利用 FO 文档 获取 PDF 格式，您需要运行某个 FO 处理器来调用 <TT
CLASS="filename"
>manual.fo</TT
> 文件。
  </P
><DIV
CLASS="note"
><BLOCKQUOTE
CLASS="note"
><P
><B
>注意： </B
>
    在赛扬 400 的机器上利用 Saxon（基于 JDK 1.3）生成 <TT
CLASS="filename"
>bigmanual.html</TT
> 文件需要大概两分钟时间。生成 FO 文档需要大概两倍于此地时间，且不包括运行 FO 处理器需要的时间。生成单个大型的 HTML 版本或者 HTML 帮助版本需要大概 60 分钟的时间。
   </P
></BLOCKQUOTE
></DIV
><DIV
CLASS="note"
><BLOCKQUOTE
CLASS="note"
><P
><B
>注意： </B
>
    XSL 并非支持 DSSSL 所有的设定，因此利用 XSL 输出的文档在某些方面会不如<SPAN
CLASS="emphasis"
><I
CLASS="emphasis"
>目前</I
></SPAN
>利用 DSSSL 的输出的文档，不过开发工作已经开始向只使用 XSL 的方向进展。
   </P
></BLOCKQUOTE
></DIV
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
SUMMARY="Footer navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="chapter-viewing.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="index.html"
ACCESSKEY="H"
>Home</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="chapter-online-generation.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>查看您的更新</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="part-generating-output.html"
ACCESSKEY="U"
>Up</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>在线生成系统</TD
></TR
></TABLE
></DIV
></BODY
></HTML
>